{
  "rules": {
    ".read": false,
    ".write": false,
    "utilisateurs": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        ".write": "auth != null && auth.uid === $uid",
        ".validate": "newData.hasChildren(['nom','prenom','email','createdAt']) && newData.child('nom').isString() && newData.child('nom').val().length >= 2 && newData.child('nom').val().length <= 40 && newData.child('prenom').isString() && newData.child('prenom').val().length >= 2 && newData.child('prenom').val().length <= 40 && newData.child('email').isString() && newData.child('email').val().matches(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/) && newData.child('createdAt').isNumber()"
      },
      ".indexOn": ["email"]
    }
  }
}
